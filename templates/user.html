<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <title>ì‚¬ìš©ì í™”ë©´</title>
        <style>
            body {
                margin: 0;
                background: #111;
                height: 100vh; /* ì „ì²´ í™”ë©´ ë†’ì´ */
                display: flex;
                flex-direction: column;
            }
            .container {
                display: flex;
                flex-direction: column;
                flex: 1;
                gap: 10px;
                padding: 10px;
            }
            .top {
                display: flex;
                flex-direction: row;
                color: white;
                border: 1px solid white;
                height: 10vh;
                padding-left: 40px;
                align-items: center;
                justify-content: space-between;
            }
            .í™”ë©´ì „í™˜ {
                display: flex;
                flex-direction: row;
                /* border: 1px solid white; */
                text-align: center;
                gap: 10px;
                padding: 10px;
                align-items: center;
            }

            .main {
                display: flex;
                flex: 1; /* ë‚¨ì€ ê³µê°„ ì „ë¶€ ì°¨ì§€ */
                gap: 10px;
            }

            .left {
                flex: 55; /* ë¹„ìœ¨ë¡œ ì„¤ì • */
            }

            .right {
                flex: 45;
                display: flex;
                flex-direction: column;
                gap: 10px;
            }

            .right > div {
                display: flex;
                gap: 10px;
                flex: 1; /* ì„¸ë¡œ ê³µê°„ ê· ë“± ë¶„ë°° */
            }

            iframe {
                width: 100%;
                height: 100%;
                border: none;
            }

            .now_status_manipulate {
                display: inline;
            }
            .now_status {
                width: 50%;
            }

            .manipulate {
                color: white;
                border: 1px solid white;
                width: 50%;
                display: inline;
                text-align: center;
                justify-content: center; /* ê°€ë¡œ ê°€ìš´ë° ì •ë ¬ */
                align-items: center; /* ê°€ë¡œ ê°€ìš´ë° ì •ë ¬ */
            }
            .manipulate ul {
                list-style: none; /* ë¦¬ìŠ¤íŠ¸ ë¶ˆë¦¿ ì œê±° */
                padding: 10px;

                /* border: 1px solid white; */

                align-content: center;
                height: 80%;
            }

            .manipulate li {
                /* border: 1px solid white; */
                display: flex;
                /* justify-content: center;  */
                text-align: left;
                align-items: center;
                justify-content: space-between;

                height: 50px; /* ë†’ì´ ì§€ì • (ì›í•˜ë©´ ì¡°ì • ê°€ëŠ¥) */
                margin: 10px;
                text-align: left;
            }
            .manipulate li div {
                /* border: 1px solid red; */
                text-align: left;
                margin-left: 30%;
                font-size: 20px;
            }
            .manipulate li button {
                /* border: 1px solid red; */
                margin-right: 30%;
            }

            .textzone {
                width: 50%;
            }
            .in_out_information {
                width: 50%;
            }
            h3 {
                padding: 0;
                margin: 0;
                position: absolute;
                padding-left: 0;
                padding-top: 0;
            }
            .turn {
                padding: 0;
                margin: 0;
                /* position: absolute; */
                /* padding-right: 0;
                padding-bottom: 0; */
            }
        </style>
    </head>
    <body>
        <div class="container">
            <!-- ìƒë‹¨ ê¸´ ë°•ìŠ¤ -->
            <div class="top">
                <div>
                    <h1>Air Protector</h1>
                </div>
                <div class="í™”ë©´ì „í™˜">
                    <h4><a href="user.html">ì‚¬ìš©ìí™”ë©´</a></h4>
                    <h4>|</h4>
                    <h4><a href="admin.html">ê´€ë¦¬ìí™”ë©´</a></h4>
                </div>
            </div>

            <div class="main">
                <!-- ì™¼ìª½ í° ë°•ìŠ¤ -->
                <div class="left">
                    <h3>ê³µê¸° ë¶„ì„</h3>
                    <iframe
                        src="http://localhost:3000/d-solo/abcd1234/test-dashboard?orgId=1&refresh=5s"
                    ></iframe>
                </div>

                <!-- ì˜¤ë¥¸ìª½ ì˜ì—­ -->
                <div class="right">
                    <div>
                        <h3>ê²½ê³  ì•Œë¦¼ í™•ì¸ + ìë™ì œì–´ ê¸°ë¡</h3>
                        <iframe
                            src="http://localhost:3000/d-solo/abcd1234/test-dashboard?orgId=1&refresh=5s"
                        ></iframe>
                    </div>

                    <div class="now_status_manipulate">
                        <h3>í˜„ì¬ìƒíƒœ</h3>
                        <div class="now_status">
                            <iframe
                                src="http://localhost:3000/d-solo/abcd1234/test-dashboard?orgId=1&refresh=5s"
                            ></iframe>
                        </div>
                        <div class="manipulate">
                            <h3>ìˆ˜ë™ì œì–´</h3>
                            <ul>
                                <li>
                                    <div class="window">ã…¤ì°½ë¬¸</div>
                                    <button>on/off</button>
                                </li>
                                <li>
                                    <div>í™˜ê¸° íŒ¬</div>
                                    <button>on/off</button>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div>
                        <div class="in_out_information">
                            <h3>ì‹¤ë‚´ì™¸ ì˜¨ë„/ìŠµë„/ë°”ëŒì„¸ê¸°</h3>
                            <iframe
                                src="http://localhost:3000/d-solo/abcd1234/test-dashboard?orgId=1&refresh=5s"
                            ></iframe>
                        </div>
                        <div class="textzone">
                            <h3 id="ventTitle"></h3>
                            <iframe id="ventIframe"></iframe>
                            <button
                                id="toggleBtn"
                                style="
                                    position: absolute;
                                    bottom: 20px;
                                    right: 20px;
                                "
                            >
                                ì „í™˜í•˜ê¸°
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <script>
        // í™˜ê¸° ì—¬ë¶€ (trueë©´ í™˜ê¸° ì¤‘, falseë©´ í™˜ê¸° ì•ˆ í•¨)
        let isVentilating = true; //ì´ˆê¸°ìƒíƒœ ğŸ‘‰ ì‹¤ì œ ê°’ì€ ì„¼ì„œ/ë°±ì—”ë“œì—ì„œ ë°›ì•„ì˜¤ë©´ ë¨

        const title = document.getElementById('ventTitle');
        const iframe = document.getElementById('ventIframe');
        const toggleBtn = document.getElementById('toggleBtn');

        if (isVentilating) {
            // í™˜ê¸°í•  ë•Œ
            title.textContent = 'í™˜ê¸°ì‹œê°„ì˜ˆì¸¡';
            iframe.src =
                'http://localhost:3000/d-solo/abcd1234/test-dashboard?orgId=1&refresh=5s';
        } else {
            // í™˜ê¸° ì•ˆ í•  ë•Œ
            title.textContent = 'ê°€ìŠ¤ ì„¤ëª…';
            iframe.src =
                'http://localhost:3001/d-solo/abcd1234/test-dashboard?orgId=1&refresh=5s';
        }

        updateIframe();

        toggleBtn.addEventListener('click', () => {
            isVentilating = !isVentilating; // ìƒíƒœ í† ê¸€
            updateIframe(); // ë³€ê²½ëœ ìƒíƒœ ë°˜ì˜
        });
    </script>
</html>
